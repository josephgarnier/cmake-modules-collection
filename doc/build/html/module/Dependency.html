<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Dependency &mdash; CMake Modules Collection</title>

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a3862c66" />
    <link rel="stylesheet" type="text/css" href="../_static/cmake.css?v=4d06bd55" />
    
    <script src="../_static/documentation_options.js?v=977c7dfd"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/cmake-favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Directory" href="Directory.html" />
    <link rel="prev" title="Debug" href="Debug.html" />
 

  </head><body>
    <input id="sidebar-check" type="checkbox" />
    <label id="sidebar-overlay" for="sidebar-check"></label>



    <div class="related relbar1" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Directory.html" title="Directory"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Debug.html" title="Debug"
             accesskey="P">previous</a> |</li>
  <li>
    <label class="sidebar-toggle" for="sidebar-check"></label>
  </li>
  <li class="rootlink">
    <img src="../_static/cmake-logo-16.png" width="16" height="16" alt=""/>
    <a href="https://cmake.org/">CMake 4.0.1</a>
    <span class="reldelim1"> &#187;</span>
  </li>
  <li>
    <a href="../index.html">Documentation</a> &#187;
  </li>

        <li class="nav-item nav-item-this"><a href="">Dependency</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="dependency">
<span id="module:Dependency"></span><h1>Dependency<a class="headerlink" href="#dependency" title="Link to this heading">¶</a></h1>
<p>Operations to manipule dependencies. They mainly encapsulate the numerous
function calls required to <a class="reference external" href="https://cmake.org/cmake/help/latest/guide/importing-exporting/index.html">import and export dependencies</a>.
It requires CMake 3.20 or newer.</p>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading">¶</a></h2>
<pre class="literal-block">dependency(<a href="#id1"><span class="problematic" id="id2">`BUILD`_</span></a> &lt;lib-target-name&gt; [...])
dependency(<a class="reference internal" href="#import">IMPORT</a> &lt;lib-target-name&gt; [...])
dependency(<a class="reference internal" href="#add-include-directories">ADD_INCLUDE_DIRECTORIES</a> &lt;lib-target-name&gt; &lt;SET|APPEND&gt; PUBLIC &lt;gen-expr&gt;...)
dependency(<a class="reference internal" href="#set-imported-location">SET_IMPORTED_LOCATION</a> &lt;lib-target-name&gt; [CONFIGURATION &lt;config-type&gt;] PUBLIC &lt;gen-expr&gt;...)
dependency(<a class="reference internal" href="#export">EXPORT</a> &lt;lib-target-name&gt;... &lt;BUILD_TREE|INSTALL_TREE&gt; [APPEND] OUTPUT_FILE &lt;file-name&gt;)</pre>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<dl class="cmake signature">
<dt class="sig sig-object cmake" id="import">
<span class="code cmake highlight sig-name descname"><span class="nf"><span class="pre">dependency(</span></span><span class="no"><span class="pre">IMPORT</span></span><span class="w"> </span><span class="nv"><span class="pre">&lt;lib-target-name&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">[...]</span></span><span class="nf"><span class="pre">)</span></span></span><a class="headerlink" href="#import" title="Link to this definition">¶</a></dt>
<dd><p>Import a depedency:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">dependency(</span><span class="no">IMPORT</span><span class="w"> </span><span class="nv">&lt;lib-target-name&gt;</span>
<span class="w">          </span><span class="o">&lt;</span><span class="no">STATIC</span><span class="p">|</span><span class="no">SHARED</span><span class="o">&gt;</span>
<span class="w">          </span><span class="p">[</span><span class="no">RELEASE_NAME</span><span class="w"> </span><span class="nv">&lt;raw-filename&gt;</span><span class="p">]</span>
<span class="w">          </span><span class="p">[</span><span class="no">DEBUG_NAME</span><span class="w"> </span><span class="nv">&lt;raw-filename&gt;</span><span class="p">]</span>
<span class="w">          </span><span class="no">ROOT_DIR</span><span class="w"> </span><span class="nv">&lt;dir-path&gt;</span>
<span class="w">          </span><span class="no">INCLUDE_DIR</span><span class="w"> </span><span class="nv">&lt;dir-path&gt;</span><span class="nf">)</span>
</pre></div>
</div>
<p>Create an imported library target named <code class="docutils literal notranslate"><span class="pre">&lt;lib-target-name&gt;</span></code>, which should
represent the base name of the library (without prefix or suffix), by
locating its binary files and setting the necessary target properties. This
command combines behavior similar to <span class="target" id="index-0-command:cmake:command:find_library"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/find_library.html#command:find_library" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">find_library()</span></code></a> and
<span class="target" id="index-0-command:cmake:command:add_library"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/add_library.html#imported" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">add_library(IMPORTED)</span></code></a>.</p>
<p>The main purpose of this command is to manually import a target from a
package that does not provide a generated import script for the build-tree
(with <span class="target" id="index-0-command:cmake:command:export"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/export.html#targets" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">export(TARGETS)</span></code></a>) or
the install-tree (with <span class="target" id="index-0-command:cmake:command:install"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/install.html#export" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">install(EXPORT)</span></code></a>).</p>
<p>The command requires either the <code class="docutils literal notranslate"><span class="pre">STATIC</span></code> or <code class="docutils literal notranslate"><span class="pre">SHARED</span></code> keyword to specify
the type of library. Only one may be used. At least one of
<code class="docutils literal notranslate"><span class="pre">RELEASE_NAME</span> <span class="pre">&lt;raw-filename&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">DEBUG_NAME</span> <span class="pre">&lt;raw-filename&gt;</span></code> must be
provided. Both can be used. These arguments determine which configurations
of the library will be available, typically matching values in the
<span class="target" id="index-0-variable:cmake:variable:CMAKE_CONFIGURATION_TYPES"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/variable/CMAKE_CONFIGURATION_TYPES.html#variable:CMAKE_CONFIGURATION_TYPES" title="(in CMake v4.2.0)"><code class="xref cmake cmake-variable docutils literal notranslate"><span class="pre">CMAKE_CONFIGURATION_TYPES</span></code></a> variable.</p>
<p>The value of <code class="docutils literal notranslate"><span class="pre">&lt;raw-filename&gt;</span></code> should be the core name of the library file,
stripped of:</p>
<ul class="simple">
<li><p>Any version numbers.</p></li>
<li><p>Platform-specific prefixes (e.g. <code class="docutils literal notranslate"><span class="pre">lib</span></code>).</p></li>
<li><p>Platform-specific suffixes (e.g. <code class="docutils literal notranslate"><span class="pre">.so</span></code>, <code class="docutils literal notranslate"><span class="pre">.dll</span></code>, <code class="docutils literal notranslate"><span class="pre">.dll.a</span></code>, <code class="docutils literal notranslate"><span class="pre">.a</span></code>, <code class="docutils literal notranslate"><span class="pre">.lib</span></code>).</p></li>
</ul>
<p>The file will be resolved by scanning recursively all files in the given
<code class="docutils literal notranslate"><span class="pre">ROOT_DIR</span></code> and attempting to match against expected filename patterns
constructed using the relevant <code class="docutils literal notranslate"><span class="pre">CMAKE_&lt;CONFIG&gt;_LIBRARY_PREFIX</span></code> and
<code class="docutils literal notranslate"><span class="pre">CMAKE_&lt;CONFIG&gt;_LIBRARY_SUFFIX</span></code>, accounting for platform conventions
and possible version-number noise in filenames. More specifically, it tries
to do a matching between the <code class="docutils literal notranslate"><span class="pre">&lt;raw-filename&gt;</span></code> in format
<code class="docutils literal notranslate"><span class="pre">&lt;CMAKE_STATIC_LIBRARY_PREFIX|CMAKE_SHARED_LIBRARY_PREFIX&gt;&lt;raw-filename&gt;</span>
<span class="pre">&lt;verions-numbers&gt;&lt;CMAKE_STATIC_LIBRARY_SUFFIX|CMAKE_SHARED_LIBRARY_SUFFIX&gt;</span></code>
and each filename found striped from their numeric and special character
version and their suffix and their prefix based on the plateform and the
kind of library <code class="docutils literal notranslate"><span class="pre">STATIC</span></code> or <code class="docutils literal notranslate"><span class="pre">SHARED</span></code>. See the command module
<span class="target" id="index-0-command:directory"></span><a class="reference internal" href="Directory.html#scan" title="directory(scan)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">directory(SCAN)</span></code></a>, that is used internally, for full details.</p>
<p>If more than one file matches or no file is found, an error is raised.</p>
<p>Once located, an imported target is created using <span class="target" id="index-1-command:cmake:command:add_library"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/add_library.html#imported" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">add_library(IMPORTED)</span></code></a> and
appropriate properties for each available configuration (<code class="docutils literal notranslate"><span class="pre">RELEASE</span></code> and/or
<code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>) are set, including paths to the binary and import libraries (if
applicable), as well as the soname.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">INCLUDE_DIR</span></code> keyword defines a public include directory required by
the imported target. This directory populates the target's
<span class="target" id="index-0-prop_tgt:cmake:prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/INTERFACE_INCLUDE_DIRECTORIES.html#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="(in CMake v4.2.0)"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">INTERFACE_INCLUDE_DIRECTORIES</span></code></a>
property, which specifies the list of directories published as usage
requirements to consumers, and which are added to the compiler's header
search path when another target links against it. In practice, this ensures
that any consumer of the imported library automatically receives the correct
include paths needed to compile against its headers.</p>
<p>The following target properties are configured:</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">INTERFACE_INCLUDE_DIRECTORIES</span></code></dt><dd><p>Set to the directory given by <code class="docutils literal notranslate"><span class="pre">INCLUDE_DIR</span></code>. This property defines
the include directories as a usage requirement to consumers of the
imported target, so that it is automatically added to their header
search paths when they link against it.</p>
<p>In this context, the value is intended for source-tree usage, meaning
that the directory path refers to headers available directly in the
project source (rather than in an installed or exported package). See the
<a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/INTERFACE_INCLUDE_DIRECTORIES.html">CMake doc</a>
for full details. The value of this property can be overridden using
<span class="target" id="index-0-command:dependency"></span><a class="reference internal" href="#add-include-directories" title="dependency(add_include_directories)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(ADD_INCLUDE_DIRECTORIES)</span></code></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">INTERFACE_INCLUDE_DIRECTORIES_BUILD</span></code></dt><dd><p>Set to an empty value. This is a <em>custom property</em>, not used by CMake
natively, intended to track include directories for usage from the
build-tree context. Use <span class="target" id="index-1-command:dependency"></span><a class="reference internal" href="#add-include-directories" title="dependency(add_include_directories)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(ADD_INCLUDE_DIRECTORIES)</span></code></a> to
populate this property.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">INTERFACE_INCLUDE_DIRECTORIES_INSTALL</span></code></dt><dd><p>Set to an empty value. This is a <em>custom property</em> intended for tracking
include paths during installation or packaging, for usage from the
install-tree context. Use <span class="target" id="index-2-command:dependency"></span><a class="reference internal" href="#add-include-directories" title="dependency(add_include_directories)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(ADD_INCLUDE_DIRECTORIES)</span></code></a> to
populate this property.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">IMPORTED_LOCATION_&lt;CONFIG&gt;</span></code></dt><dd><p>The full path to the actual library file (e.g. <code class="docutils literal notranslate"><span class="pre">.so</span></code>, <code class="docutils literal notranslate"><span class="pre">.dll</span></code>, <code class="docutils literal notranslate"><span class="pre">.a</span></code>, <code class="docutils literal notranslate"><span class="pre">.lib</span></code>),
set separately for each configuration (<code class="docutils literal notranslate"><span class="pre">RELEASE</span></code> and/or <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>). See the <a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/IMPORTED_LOCATION_CONFIG.html">CMake doc</a> for full details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">IMPORTED_LOCATION_BUILD_&lt;CONFIG&gt;</span></code></dt><dd><p><em>Custom property</em> set to an empty value. Intended for build-tree specific
overrides of the library path, for usage from the build-tree context.
Use <span class="target" id="index-3-command:dependency"></span><a class="reference internal" href="#set-imported-location" title="dependency(set_imported_location)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(SET_IMPORTED_LOCATION)</span></code></a> to initialize this property.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">IMPORTED_LOCATION_INSTALL_&lt;CONFIG&gt;</span></code></dt><dd><p><em>Custom property</em> set to an empty value. Intended for install-time
overrides of the library path, for usage from the install-tree context.
Use <span class="target" id="index-4-command:dependency"></span><a class="reference internal" href="#set-imported-location" title="dependency(set_imported_location)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(SET_IMPORTED_LOCATION)</span></code></a> to initialize this property.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">IMPORTED_IMPLIB_&lt;CONFIG&gt;</span></code></dt><dd><p>On DLL-based platforms (e.g. Windows), set to the full path of the
import library file (e.g. <code class="docutils literal notranslate"><span class="pre">.dll.a</span></code>, <code class="docutils literal notranslate"><span class="pre">.a</span></code>, <code class="docutils literal notranslate"><span class="pre">.lib</span></code>) for the corresponding
configuration. For static libraries, this property is set to empty,
because an import library is only for a shared library. See the
<a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/IMPORTED_IMPLIB_CONFIG.html">CMake doc</a> for full details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">IMPORTED_SONAME_&lt;CONFIG&gt;</span></code></dt><dd><p>Set to the filename of the resolved library (without path), allowing
CMake to handle runtime linking and version resolution. See the
<a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/IMPORTED_SONAME_CONFIG.html">CMake doc</a> for full details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">IMPORTED_CONFIGURATIONS</span></code></dt><dd><p>Appended with each configuration for which a library was found and
configured (e.g. <code class="docutils literal notranslate"><span class="pre">RELEASE</span></code>, <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>). See the <a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/IMPORTED_CONFIGURATIONS.html">CMake doc</a> for full
details.</p>
</dd>
</dl>
</div></blockquote>
<p>Example usage:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># Import shared lib</span>
<span class="nf">dependency(</span><span class="no">IMPORT</span><span class="w"> </span><span class="s">&quot;my_shared_lib&quot;</span>
<span class="w">  </span><span class="no">SHARED</span>
<span class="w">  </span><span class="no">RELEASE_NAME</span><span class="w"> </span><span class="s">&quot;mylib_1.11.0&quot;</span>
<span class="w">  </span><span class="no">DEBUG_NAME</span><span class="w"> </span><span class="s">&quot;mylibd_1.11.0&quot;</span>
<span class="w">  </span><span class="no">ROOT_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/lib&quot;</span>
<span class="w">  </span><span class="no">INCLUDE_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/include/mylib&quot;</span>
<span class="nf">)</span>
<span class="c"># Is more or less equivalent to:</span>
<span class="nf">add_library(</span><span class="s">&quot;my_shared_lib&quot;</span><span class="w"> </span><span class="no">SHARED</span><span class="w"> </span><span class="no">IMPORTED</span><span class="nf">)</span>
<span class="nf">set_target_properties(</span><span class="s">&quot;my_shared_lib&quot;</span><span class="w"> </span><span class="no">PROPERTIES</span>
<span class="w">  </span><span class="no">INTERFACE_INCLUDE_DIRECTORIES</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/include/mylib&quot;</span>
<span class="w">  </span><span class="no">INTERFACE_INCLUDE_DIRECTORIES_BUILD</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="no">INTERFACE_INCLUDE_DIRECTORIES_INSTALL</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="nf">)</span>
<span class="nf">find_library(</span><span class="nb">lib</span><span class="w"> </span><span class="no">NAMES</span><span class="w"> </span><span class="s">&quot;mylib_1.11.0&quot;</span><span class="nf">)</span>
<span class="nf">find_library(</span><span class="nb">implib</span><span class="w"> </span><span class="no">NAMES</span><span class="w"> </span><span class="s">&quot;mylibd_1.11.0&quot;</span><span class="nf">)</span>
<span class="nf">cmake_path(</span><span class="no">GET</span><span class="w"> </span><span class="nb">lib</span><span class="w"> </span><span class="no">FILENAME</span><span class="w"> </span><span class="nb">lib_name</span><span class="nf">)</span>
<span class="nf">set_target_properties(</span><span class="s">&quot;my_shared_lib&quot;</span><span class="w"> </span><span class="no">PROPERTIES</span>
<span class="w">  </span><span class="no">IMPORTED_LOCATION_RELEASE</span><span class="w"> </span><span class="s">&quot;${lib}&quot;</span>
<span class="w">  </span><span class="no">IMPORTED_LOCATION_BUILD_RELEASE</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="no">IMPORTED_LOCATION_INSTALL_RELEASE</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="no">IMPORTED_IMPLIB_RELEASE</span><span class="w"> </span><span class="s">&quot;${implib}&quot;</span>
<span class="w">  </span><span class="no">IMPORTED_SONAME_RELEASE</span><span class="w"> </span><span class="s">&quot;${lib_name}&quot;</span>
<span class="nf">)</span>
<span class="nf">set_property(</span><span class="no">TARGET</span><span class="w"> </span><span class="s">&quot;my_shared_lib&quot;</span>
<span class="w">  </span><span class="no">APPEND</span><span class="w"> </span><span class="no">PROPERTY</span><span class="w"> </span><span class="no">IMPORTED_CONFIGURATIONS</span><span class="w"> </span><span class="s">&quot;${CMAKE_BUILD_TYPE}&quot;</span>
<span class="nf">)</span>

<span class="c"># Import static lib</span>
<span class="nf">dependency(</span><span class="no">IMPORT</span><span class="w"> </span><span class="s">&quot;my_static_lib&quot;</span>
<span class="w">  </span><span class="no">STATIC</span>
<span class="w">  </span><span class="no">RELEASE_NAME</span><span class="w"> </span><span class="s">&quot;mylib_1.11.0&quot;</span>
<span class="w">  </span><span class="no">DEBUG_NAME</span><span class="w"> </span><span class="s">&quot;mylibd_1.11.0&quot;</span>
<span class="w">  </span><span class="no">ROOT_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/lib&quot;</span>
<span class="w">  </span><span class="no">INCLUDE_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/include/mylib&quot;</span>
<span class="nf">)</span>
<span class="c"># Is more or less equivalent to:</span>
<span class="nf">add_library(</span><span class="s">&quot;my_shared_lib&quot;</span><span class="w"> </span><span class="no">SHARED</span><span class="w"> </span><span class="no">IMPORTED</span><span class="nf">)</span>
<span class="nf">set_target_properties(</span><span class="s">&quot;my_shared_lib&quot;</span><span class="w"> </span><span class="no">PROPERTIES</span>
<span class="w">  </span><span class="no">INTERFACE_INCLUDE_DIRECTORIES</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/include/mylib&quot;</span>
<span class="w">  </span><span class="no">INTERFACE_INCLUDE_DIRECTORIES_BUILD</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="no">INTERFACE_INCLUDE_DIRECTORIES_INSTALL</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="nf">)</span>
<span class="nf">find_library(</span><span class="nb">lib</span><span class="w"> </span><span class="no">NAMES</span><span class="w"> </span><span class="s">&quot;mylib_1.11.0&quot;</span><span class="nf">)</span>
<span class="nf">find_library(</span><span class="nb">implib</span><span class="w"> </span><span class="no">NAMES</span><span class="w"> </span><span class="s">&quot;mylibd_1.11.0&quot;</span><span class="nf">)</span>
<span class="nf">cmake_path(</span><span class="no">GET</span><span class="w"> </span><span class="nb">lib</span><span class="w"> </span><span class="no">FILENAME</span><span class="w"> </span><span class="nb">lib_name</span><span class="nf">)</span>
<span class="nf">set_target_properties(</span><span class="s">&quot;my_shared_lib&quot;</span><span class="w"> </span><span class="no">PROPERTIES</span>
<span class="w">  </span><span class="no">IMPORTED_LOCATION_RELEASE</span><span class="w"> </span><span class="s">&quot;${lib}&quot;</span>
<span class="w">  </span><span class="no">IMPORTED_LOCATION_BUILD_RELEASE</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="no">IMPORTED_LOCATION_INSTALL_RELEASE</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<span class="w">  </span><span class="no">IMPORTED_IMPLIB_RELEASE</span><span class="w"> </span><span class="s">&quot;${implib}&quot;</span>
<span class="w">  </span><span class="no">IMPORTED_SONAME_RELEASE</span><span class="w"> </span><span class="s">&quot;${lib_name}&quot;</span>
<span class="nf">)</span>
<span class="nf">set_property(</span><span class="no">TARGET</span><span class="w"> </span><span class="s">&quot;my_shared_lib&quot;</span>
<span class="w">  </span><span class="no">APPEND</span><span class="w"> </span><span class="no">PROPERTY</span><span class="w"> </span><span class="no">IMPORTED_CONFIGURATIONS</span><span class="w"> </span><span class="s">&quot;${CMAKE_BUILD_TYPE}&quot;</span>
<span class="nf">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="cmake signature">
<dt class="sig sig-object cmake" id="add-include-directories">
<span class="code cmake highlight sig-name descname"><span class="nf"><span class="pre">dependency(</span></span><span class="no"><span class="pre">ADD_INCLUDE_DIRECTORIES</span></span><span class="w"> </span><span class="nv"><span class="pre">&lt;lib-target-name&gt;</span></span><span class="w"> </span><span class="o"><span class="pre">&lt;</span></span><span class="no"><span class="pre">SET</span></span><span class="p"><span class="pre">|</span></span><span class="no"><span class="pre">APPEND</span></span><span class="o"><span class="pre">&gt;</span></span><span class="w"> </span><span class="no"><span class="pre">PUBLIC</span></span><span class="w"> </span><span class="nv"><span class="pre">&lt;gen-expr&gt;...</span></span><span class="nf"><span class="pre">)</span></span></span><a class="headerlink" href="#add-include-directories" title="Link to this definition">¶</a></dt>
<dd><p>Set or append public include directories required by the imported target
<code class="docutils literal notranslate"><span class="pre">&lt;lib-target-name&gt;</span></code> to expose its headers to consumers. It populates its
<span class="target" id="index-1-prop_tgt:cmake:prop_tgt:INTERFACE_INCLUDE_DIRECTORIES"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/INTERFACE_INCLUDE_DIRECTORIES.html#prop_tgt:INTERFACE_INCLUDE_DIRECTORIES" title="(in CMake v4.2.0)"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">INTERFACE_INCLUDE_DIRECTORIES</span></code></a>
property and its derivatives to allow the target to be imported from the
three contexts source-tree, build-tree, and install-tree.</p>
<p>The name should represent the base name of the library (without prefix or
suffix). This command copies the behavior of
<span class="target" id="index-0-command:cmake:command:target_include_directories"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/target_include_directories.html#command:target_include_directories" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">target_include_directories()</span></code></a>
in CMake, but introduces a separation between build-time and install-time
contexts for imported dependencies.</p>
<p>This command is intended for targets that have been previously declared
using <span class="target" id="index-5-command:dependency"></span><a class="reference internal" href="#import" title="dependency(import)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(IMPORT)</span></code></a>, and is typically used in conjunction
with <span class="target" id="index-6-command:dependency"></span><a class="reference internal" href="#export" title="dependency(export)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(EXPORT)</span></code></a> to complete the definition of
an imported target for external reuse. It fills in target properties that
are used when generating the export script. Therefore, there is no benefit
in calling it if the target is not intended to be exported.</p>
<p>The behavior differs from standard CMake in that it stores build and install
include paths separately using generator expressions (see 
<a class="reference external" href="https://cmake.org/cmake/help/latest/manual/cmake-buildsystem.7.html#include-directories-and-usage-requirements">how write build specification with generator expressions</a>).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PUBLIC</span></code> keyword indicates that the specified directories apply to the
usage requirements of the target (i.e., will be propagated to consumers of
the target). The directories following it <strong>must use generator expressions</strong> like
<code class="docutils literal notranslate"><span class="pre">$&lt;BUILD_INTERFACE:...&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">$&lt;INSTALL_INTERFACE:...&gt;</span></code> to distinguish
between build and install phases.</p>
<p>The command accepts the following mutually exclusive modifiers:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SET</span></code>: Replaces any existing include directories.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">APPEND</span></code>: Adds to the current list of include directories.</p></li>
</ul>
<p>This command internally sets or appends the following CMake properties on the target:</p>
<blockquote>
<div><dl>
<dt><code class="docutils literal notranslate"><span class="pre">INTERFACE_INCLUDE_DIRECTORIES</span></code></dt><dd><p>This standard CMake target property specifies the public include
directories for the imported target. These directories define the usage
requirements of the target and are automatically propagated to any
consuming target that links against it.</p>
<p>This property is populated from the <code class="docutils literal notranslate"><span class="pre">$&lt;BUILD_INTERFACE:...&gt;</span></code>
portion of the arguments, corresponding to the directories available
in the source-tree context. This ensures that when a target consumes the
imported library during a build, it automatically receives the correct
include paths for compilation.</p>
<p>For more details, see the official <a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/INTERFACE_INCLUDE_DIRECTORIES.html">CMake documentation</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">INTERFACE_INCLUDE_DIRECTORIES_BUILD</span></code></dt><dd><p>A <em>custom property</em> defined by this module to track the include
directories used in the build-tree context. It contains the fully
expanded list of directories extracted from the <code class="docutils literal notranslate"><span class="pre">$&lt;BUILD_INTERFACE:...&gt;</span></code>
generator expressions. This ensures that when a target consumes the
imported library during the build, it correctly receives all necessary
include paths even before installation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">INTERFACE_INCLUDE_DIRECTORIES_INSTALL</span></code></dt><dd><p>A <em>custom property</em> defined by this module to track the include
directories intended for use in the install-tree context. It contains
the fully expanded list of directories extracted from the
<code class="docutils literal notranslate"><span class="pre">$&lt;INSTALL_INTERFACE:...&gt;</span></code> generator expressions. This ensures that
after installation, any consumer of the imported library will have the
correct include paths set for compilation against the installed headers.</p>
</dd>
</dl>
</div></blockquote>
<p>These custom properties (<cite>_BUILD</cite> and <cite>_INSTALL</cite>) are not directly used by
CMake itself but are later re-injected into export files generated by
<span class="target" id="index-7-command:dependency"></span><a class="reference internal" href="#export" title="dependency(export)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(EXPORT)</span></code></a>.</p>
<p>Example usage:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># Import libs</span>
<span class="nf">dependency(</span><span class="no">IMPORT</span><span class="w"> </span><span class="s">&quot;my_shared_lib&quot;</span>
<span class="w">  </span><span class="no">SHARED</span>
<span class="w">  </span><span class="no">RELEASE_NAME</span><span class="w"> </span><span class="s">&quot;mylib_1.11.0&quot;</span>
<span class="w">  </span><span class="no">DEBUG_NAME</span><span class="w"> </span><span class="s">&quot;mylibd_1.11.0&quot;</span>
<span class="w">  </span><span class="no">ROOT_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/lib&quot;</span>
<span class="w">  </span><span class="no">INCLUDE_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/include/mylib&quot;</span>
<span class="nf">)</span>
<span class="nf">dependency(</span><span class="no">IMPORT</span><span class="w"> </span><span class="s">&quot;my_static_lib&quot;</span>
<span class="w">  </span><span class="no">STATIC</span>
<span class="w">  </span><span class="no">RELEASE_NAME</span><span class="w"> </span><span class="s">&quot;mylib_1.11.0&quot;</span>
<span class="w">  </span><span class="no">DEBUG_NAME</span><span class="w"> </span><span class="s">&quot;mylibd_1.11.0&quot;</span>
<span class="w">  </span><span class="no">ROOT_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/lib&quot;</span>
<span class="w">  </span><span class="no">INCLUDE_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/include/mylib&quot;</span>
<span class="nf">)</span>

<span class="c"># Set include directories for shared lib</span>
<span class="nf">dependency(</span><span class="no">ADD_INCLUDE_DIRECTORIES</span><span class="w"> </span><span class="s">&quot;my_shared_lib&quot;</span><span class="w"> </span><span class="no">SET</span>
<span class="w">  </span><span class="no">PUBLIC</span>
<span class="w">    </span><span class="s">&quot;$&lt;BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/include/mylib&gt;&quot;</span>
<span class="w">    </span><span class="s">&quot;$&lt;INSTALL_INTERFACE:include/mylib&gt;&quot;</span>
<span class="nf">)</span>
<span class="c"># Is more or less equivalent to:</span>
<span class="nf">target_include_directories(</span><span class="nb">static_mock_lib</span>
<span class="w">  </span><span class="no">PUBLIC</span>
<span class="w">      </span><span class="s">&quot;$&lt;BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/include/mylib&gt;&quot;</span>
<span class="w">      </span><span class="s">&quot;$&lt;INSTALL_INTERFACE:include/mylib&gt;&quot;</span>
<span class="nf">)</span>

<span class="c"># Set include directories for static lib</span>
<span class="nf">dependency(</span><span class="no">ADD_INCLUDE_DIRECTORIES</span><span class="w"> </span><span class="s">&quot;my_static_lib&quot;</span><span class="w"> </span><span class="no">SET</span>
<span class="w">  </span><span class="no">PUBLIC</span>
<span class="w">    </span><span class="s">&quot;$&lt;BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/include/mylib&gt;&quot;</span>
<span class="w">    </span><span class="s">&quot;$&lt;INSTALL_INTERFACE:include/mylib&gt;&quot;</span>
<span class="nf">)</span>
<span class="c"># Is more or less equivalent to:</span>
<span class="nf">target_include_directories(</span><span class="nb">static_mock_lib</span>
<span class="w">  </span><span class="no">PUBLIC</span>
<span class="w">      </span><span class="s">&quot;$&lt;BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/include/mylib&gt;&quot;</span>
<span class="w">      </span><span class="s">&quot;$&lt;INSTALL_INTERFACE:include/mylib&gt;&quot;</span>
<span class="nf">)</span>
</pre></div>
</div>
<p>This example sets <code class="docutils literal notranslate"><span class="pre">my_shared_lib</span></code> and <code class="docutils literal notranslate"><span class="pre">my_static_lib</span></code> to expose:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">${CMAKE_SOURCE_DIR}/include/mylib</span></code> during the build.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;CMAKE_INSTALL_PREFIX&gt;/include/mylib</span></code> after installation (where
<code class="docutils literal notranslate"><span class="pre">&lt;CMAKE_INSTALL_PREFIX&gt;</span></code> is resolved when imported via <span class="target" id="index-8-command:dependency"></span><a class="reference internal" href="#export" title="dependency(export)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(EXPORT)</span></code></a>).</p></li>
</ul>
</dd></dl>

<dl class="cmake signature">
<dt class="sig sig-object cmake" id="set-imported-location">
<span class="code cmake highlight sig-name descname"><span class="nf"><span class="pre">dependency(</span></span><span class="no"><span class="pre">SET_IMPORTED_LOCATION</span></span><span class="w"> </span><span class="nv"><span class="pre">&lt;lib-target-name&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">[</span></span><span class="no"><span class="pre">CONFIGURATION</span></span><span class="nbsp"> </span><span class="nv"><span class="pre">&lt;config-type&gt;</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="no"><span class="pre">PUBLIC</span></span><span class="w"> </span><span class="nv"><span class="pre">&lt;gen-expr&gt;...</span></span><span class="nf"><span class="pre">)</span></span></span><a class="headerlink" href="#set-imported-location" title="Link to this definition">¶</a></dt>
<dd><p>Set the <span class="target" id="index-0-prop_tgt:cmake:prop_tgt:IMPORTED_LOCATION_&lt;CONFIG&gt;"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/IMPORTED_LOCATION_CONFIG.html#prop_tgt:IMPORTED_LOCATION_&lt;CONFIG&gt;" title="(in CMake v4.2.0)"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">IMPORTED_LOCATION_&lt;CONFIG&gt;</span></code></a> property of the imported
target <code class="docutils literal notranslate"><span class="pre">&lt;lib-target-name&gt;</span></code> using generator expressions to provide the
full path to the library file. The name should represent the base name of
the library (without prefix or suffix).</p>
<p>This command is intended for targets that have been previously declared
using <span class="target" id="index-9-command:dependency"></span><a class="reference internal" href="#import" title="dependency(import)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(IMPORT)</span></code></a>, and is typically used in conjunction
with <span class="target" id="index-10-command:dependency"></span><a class="reference internal" href="#export" title="dependency(export)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(EXPORT)</span></code></a> to complete the definition of
an imported target for external reuse. It allows specifying a different
location for each build configuration type, or for all configurations
if no configuration is specified. It fills in target properties that
are used when generating the export script. Therefore, there is no benefit
in calling it if the target is not intended to be exported.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">CONFIGURATION</span></code> is given, the property is only set for that
configuration. Otherwise, the property is set for all configurations
supported by the target. Configuration types must match one of the
values listed in the target's <span class="target" id="index-0-prop_tgt:cmake:prop_tgt:IMPORTED_CONFIGURATIONS"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/IMPORTED_CONFIGURATIONS.html#prop_tgt:IMPORTED_CONFIGURATIONS" title="(in CMake v4.2.0)"><code class="xref cmake cmake-prop_tgt docutils literal notranslate"><span class="pre">IMPORTED_CONFIGURATIONS</span></code></a> property.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PUBLIC</span></code> keyword must be followed by one or more generator expressions
that define the path to the library file during build and install phases.
The paths following it <strong>must use generator expressions</strong> like
<code class="docutils literal notranslate"><span class="pre">$&lt;BUILD_INTERFACE:...&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">$&lt;INSTALL_INTERFACE:...&gt;</span></code> to distinguish
between build and install phases. (see 
<a class="reference external" href="https://cmake.org/cmake/help/latest/manual/cmake-buildsystem.7.html#build-specification-with-generator-expressions">how write build specification with generator expressions</a>).</p>
<p>These expressions are evaluated to determine the value of the following
CMake properties set by this command:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">IMPORTED_LOCATION_&lt;CONFIG&gt;</span></code></dt><dd><p>The full path to the actual library file (e.g. <code class="docutils literal notranslate"><span class="pre">.so</span></code>, <code class="docutils literal notranslate"><span class="pre">.dll</span></code>, <code class="docutils literal notranslate"><span class="pre">.a</span></code>, <code class="docutils literal notranslate"><span class="pre">.lib</span></code>),
set separately for each configuration (<code class="docutils literal notranslate"><span class="pre">RELEASE</span></code> and/or <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>).
See the <a class="reference external" href="https://cmake.org/cmake/help/latest/prop_tgt/IMPORTED_LOCATION.html">CMake doc</a> for full details. The command <span class="target" id="index-1-command:directory"></span><a class="reference internal" href="Directory.html#find-lib" title="directory(find_lib)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">directory(FIND_LIB)</span></code></a> can be used to find the library file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">IMPORTED_LOCATION_BUILD_&lt;CONFIG&gt;</span></code></dt><dd><p><em>Custom property</em> set to the full path to the actual library file,
set separately for each configuration (<code class="docutils literal notranslate"><span class="pre">RELEASE</span></code> and/or <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>),
and for usage from the build-tree context. This property is used by
<span class="target" id="index-11-command:dependency"></span><a class="reference internal" href="#export" title="dependency(export)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(EXPORT)</span></code></a> to complete the definition of an imported
target for external reuse.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">IMPORTED_LOCATION_INSTALL_&lt;CONFIG&gt;</span></code></dt><dd><p><em>Custom property</em> set to the full path to the actual library file,
set separately for each configuration (<code class="docutils literal notranslate"><span class="pre">RELEASE</span></code> and/or <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>),
and for usage from the install-tree context.  This property is used by
<span class="target" id="index-12-command:dependency"></span><a class="reference internal" href="#export" title="dependency(export)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(EXPORT)</span></code></a> to complete the definition of an imported
target for external reuse.</p>
</dd>
</dl>
</div></blockquote>
<p>Example usage:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># Import libs</span>
<span class="nf">dependency(</span><span class="no">IMPORT</span><span class="w"> </span><span class="s">&quot;my_shared_lib&quot;</span>
<span class="w">  </span><span class="no">SHARED</span>
<span class="w">  </span><span class="no">RELEASE_NAME</span><span class="w"> </span><span class="s">&quot;mylib_1.11.0&quot;</span>
<span class="w">  </span><span class="no">DEBUG_NAME</span><span class="w"> </span><span class="s">&quot;mylibd_1.11.0&quot;</span>
<span class="w">  </span><span class="no">ROOT_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/lib&quot;</span>
<span class="w">  </span><span class="no">INCLUDE_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/include/mylib&quot;</span>
<span class="nf">)</span>
<span class="nf">dependency(</span><span class="no">IMPORT</span><span class="w"> </span><span class="s">&quot;my_static_lib&quot;</span>
<span class="w">  </span><span class="no">STATIC</span>
<span class="w">  </span><span class="no">RELEASE_NAME</span><span class="w"> </span><span class="s">&quot;mylib_1.11.0&quot;</span>
<span class="w">  </span><span class="no">DEBUG_NAME</span><span class="w"> </span><span class="s">&quot;mylibd_1.11.0&quot;</span>
<span class="w">  </span><span class="no">ROOT_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/lib&quot;</span>
<span class="w">  </span><span class="no">INCLUDE_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/include/mylib&quot;</span>
<span class="nf">)</span>

<span class="c"># Set imported location for shared lib</span>
<span class="nf">dependency(</span><span class="no">SET_IMPORTED_LOCATION</span><span class="w"> </span><span class="s">&quot;my_shared_lib&quot;</span>
<span class="w">  </span><span class="no">CONFIGURATION</span><span class="w"> </span><span class="no">RELEASE</span>
<span class="w">  </span><span class="no">PUBLIC</span>
<span class="w">    </span><span class="s">&quot;$&lt;BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/lib/mylib_1.11.0.dll&gt;&quot;</span>
<span class="w">    </span><span class="s">&quot;$&lt;INSTALL_INTERFACE:lib/mylib_1.11.0.dll&gt;&quot;</span>
<span class="nf">)</span>
<span class="nf">dependency(</span><span class="no">SET_IMPORTED_LOCATION</span><span class="w"> </span><span class="s">&quot;my_shared_lib&quot;</span>
<span class="w">  </span><span class="no">CONFIGURATION</span><span class="w"> </span><span class="no">DEBUG</span>
<span class="w">  </span><span class="no">PUBLIC</span>
<span class="w">    </span><span class="s">&quot;$&lt;BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/lib/mylibd_1.11.0.dll&gt;&quot;</span>
<span class="w">    </span><span class="s">&quot;$&lt;INSTALL_INTERFACE:lib/mylibd_1.11.0.dll&gt;&quot;</span>
<span class="nf">)</span>

<span class="c"># Set include directories for static lib</span>
<span class="nf">dependency(</span><span class="no">SET_IMPORTED_LOCATION</span><span class="w"> </span><span class="s">&quot;my_static_lib&quot;</span>
<span class="w">  </span><span class="no">CONFIGURATION</span><span class="w"> </span><span class="no">RELEASE</span>
<span class="w">  </span><span class="no">PUBLIC</span>
<span class="w">    </span><span class="s">&quot;$&lt;BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/lib/mylib_1.11.0.lib&gt;&quot;</span>
<span class="w">    </span><span class="s">&quot;$&lt;INSTALL_INTERFACE:lib/mylib_1.11.0.lib&gt;&quot;</span>
<span class="nf">)</span>
<span class="nf">dependency(</span><span class="no">SET_IMPORTED_LOCATION</span><span class="w"> </span><span class="s">&quot;my_static_lib&quot;</span>
<span class="w">  </span><span class="no">CONFIGURATION</span><span class="w"> </span><span class="no">DEBUG</span>
<span class="w">  </span><span class="no">PUBLIC</span>
<span class="w">    </span><span class="s">&quot;$&lt;BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/lib/mylibd_1.11.0.lib&gt;&quot;</span>
<span class="w">    </span><span class="s">&quot;$&lt;INSTALL_INTERFACE:lib/mylibd_1.11.0.lib&gt;&quot;</span>
<span class="nf">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="cmake signature">
<dt class="sig sig-object cmake" id="export">
<span class="code cmake highlight sig-name descname"><span class="nf"><span class="pre">dependency(</span></span><span class="no"><span class="pre">EXPORT</span></span><span class="w"> </span><span class="nv"><span class="pre">&lt;lib-target-name&gt;...</span></span><span class="w"> </span><span class="o"><span class="pre">&lt;</span></span><span class="no"><span class="pre">BUILD_TREE</span></span><span class="p"><span class="pre">|</span></span><span class="no"><span class="pre">INSTALL_TREE</span></span><span class="o"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">[</span></span><span class="no"><span class="pre">APPEND</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="no"><span class="pre">OUTPUT_FILE</span></span><span class="w"> </span><span class="nv"><span class="pre">&lt;file-name&gt;</span></span><span class="nf"><span class="pre">)</span></span></span><a class="headerlink" href="#export" title="Link to this definition">¶</a></dt>
<dd><p>Creates a file <code class="docutils literal notranslate"><span class="pre">&lt;file-name&gt;</span></code> that may be included by outside projects to
import targets in <code class="docutils literal notranslate"><span class="pre">&lt;lib-target-name&gt;</span></code> list from the current project's
build-tree or install-tree. This command is functionally similar to using
<span class="target" id="index-1-command:cmake:command:export"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/export.html#targets" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">export(TARGETS)</span></code></a> in a <code class="docutils literal notranslate"><span class="pre">BUILD_TREE</span></code> context and <span class="target" id="index-1-command:cmake:command:install"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/install.html#export" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">install(EXPORT)</span></code></a>
in an <code class="docutils literal notranslate"><span class="pre">INSTALL_TREE</span></code> context, but is designed specifically to export
imported targets with <span class="target" id="index-13-command:dependency"></span><a class="reference internal" href="#import" title="dependency(import)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(IMPORT)</span></code></a> instead of build targets.</p>
<p>The targets in <code class="docutils literal notranslate"><span class="pre">&lt;lib-target-name&gt;</span></code> list  must be previously created imported
targets. The names should match exactly the target names used during import.</p>
<p>One of <code class="docutils literal notranslate"><span class="pre">BUILD_TREE</span></code> or <code class="docutils literal notranslate"><span class="pre">INSTALL_TREE</span></code> must be specified to indicate the
context in which the file is generated:</p>
<ul class="simple">
<li><p>When <code class="docutils literal notranslate"><span class="pre">BUILD_TREE</span></code> is used, the command generates the file in
<code class="docutils literal notranslate"><span class="pre">CMAKE_CURRENT_BINARY_DIR/&lt;file-name&gt;</span></code>, similar to how <span class="target" id="index-2-command:cmake:command:export"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/export.html#targets" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">export(TARGETS)</span></code></a>
produces a file to be included by other build projects. This file enables
other projects to import the specified targets directly from the build-tree
. It can be included from a <code class="docutils literal notranslate"><span class="pre">&lt;PackageName&gt;Config.cmake</span></code> file to provide
usage information for downstream projects.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">INSTALL_TREE</span></code> is used, the file is generated in
<code class="docutils literal notranslate"><span class="pre">CMAKE_CURRENT_BINARY_DIR/cmake/export/&lt;file-name&gt;</span></code> and an install rule
is added to copy the file to <code class="docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX/cmake/export/</span>
<span class="pre">&lt;file-name&gt;</span></code>. This is similar to combining <span class="target" id="index-2-command:cmake:command:install"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/install.html#targets" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">install(TARGETS)</span></code></a> with
<span class="target" id="index-3-command:cmake:command:install"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/command/install.html#export" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">install(EXPORT)</span></code></a>, but applies to imported rather than built targets.
This makes the export file available post-install and allows downstream
projects to include the file from a package configuration file.</p></li>
</ul>
<p>Note that no install rules are created for the actual binary files of the
imported targets; only the export script <code class="docutils literal notranslate"><span class="pre">OUTPUT_FILE</span></code> itself is installed.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">APPEND</span></code> keyword is specified, the generated code is appended to the
existing file instead of overwriting it. This is useful for exporting
multiple targets incrementally to a single file.</p>
<p>The generated file defines all necessary target properties so that the
imported targets can be used as if they were defined locally. The properties
are identical to those set by the <span class="target" id="index-14-command:dependency"></span><a class="reference internal" href="#import" title="dependency(import)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">dependency(IMPORT)</span></code></a> command; see
its documentation for additional details.</p>
<p>Example usage:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="c"># Import libs before exporting</span>
<span class="nf">dependency(</span><span class="no">IMPORT</span><span class="w"> </span><span class="s">&quot;my_shared_lib&quot;</span>
<span class="w">  </span><span class="no">SHARED</span>
<span class="w">  </span><span class="no">RELEASE_NAME</span><span class="w"> </span><span class="s">&quot;mylib_1.11.0&quot;</span>
<span class="w">  </span><span class="no">DEBUG_NAME</span><span class="w"> </span><span class="s">&quot;mylibd_1.11.0&quot;</span>
<span class="w">  </span><span class="no">ROOT_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/lib&quot;</span>
<span class="w">  </span><span class="no">INCLUDE_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/include/mylib&quot;</span>
<span class="nf">)</span>
<span class="nf">dependency(</span><span class="no">ADD_INCLUDE_DIRECTORIES</span><span class="w"> </span><span class="s">&quot;my_shared_lib&quot;</span><span class="w"> </span><span class="no">SET</span>
<span class="w">  </span><span class="no">PUBLIC</span>
<span class="w">    </span><span class="s">&quot;$&lt;BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/include/mylib&gt;&quot;</span>
<span class="w">    </span><span class="s">&quot;$&lt;INSTALL_INTERFACE:include/mylib&gt;&quot;</span>
<span class="nf">)</span>
<span class="nf">dependency(</span><span class="no">IMPORT</span><span class="w"> </span><span class="s">&quot;my_static_lib&quot;</span>
<span class="w">  </span><span class="no">STATIC</span>
<span class="w">  </span><span class="no">RELEASE_NAME</span><span class="w"> </span><span class="s">&quot;mylib_1.11.0&quot;</span>
<span class="w">  </span><span class="no">DEBUG_NAME</span><span class="w"> </span><span class="s">&quot;mylibd_1.11.0&quot;</span>
<span class="w">  </span><span class="no">ROOT_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/lib&quot;</span>
<span class="w">  </span><span class="no">INCLUDE_DIR</span><span class="w"> </span><span class="s">&quot;${CMAKE_SOURCE_DIR}/include/mylib&quot;</span>
<span class="nf">)</span>
<span class="nf">dependency(</span><span class="no">ADD_INCLUDE_DIRECTORIES</span><span class="w"> </span><span class="s">&quot;my_static_lib&quot;</span><span class="w"> </span><span class="no">SET</span>
<span class="w">  </span><span class="no">PUBLIC</span>
<span class="w">    </span><span class="s">&quot;$&lt;BUILD_INTERFACE:${CMAKE_SOURCE_DIR}/include/mylib&gt;&quot;</span>
<span class="w">    </span><span class="s">&quot;$&lt;INSTALL_INTERFACE:include/mylib&gt;&quot;</span>
<span class="nf">)</span>

<span class="c"># Export from Build-Tree</span>
<span class="nf">dependency(</span><span class="no">EXPORT</span><span class="w"> </span><span class="s">&quot;myimportedlib-1&quot;</span><span class="w"> </span><span class="s">&quot;myimportedlib-2&quot;</span>
<span class="w">  </span><span class="no">BUILD_TREE</span>
<span class="w">  </span><span class="no">OUTPUT_FILE</span><span class="w"> </span><span class="s">&quot;InternalDependencyTargets.cmake&quot;</span>
<span class="nf">)</span>
<span class="c"># Is more or less equivalent to:</span>
<span class="nf">export(</span><span class="no">TARGETS</span><span class="w"> </span><span class="s">&quot;myimportedlib-1&quot;</span><span class="w"> </span><span class="s">&quot;myimportedlib-2&quot;</span>
<span class="w">  </span><span class="no">APPEND</span>
<span class="w">  </span><span class="no">FILE</span><span class="w"> </span><span class="s">&quot;InternalDependencyTargets.cmake&quot;</span>
<span class="nf">)</span>

<span class="c"># Exporting from Install-Tree</span>
<span class="nf">set(</span><span class="no">CMAKE_INSTALL_PREFIX</span><span class="w"> </span><span class="s">&quot;${CMAKE_CURRENT_BINARY_DIR}/install&quot;</span><span class="nf">)</span>
<span class="nf">dependency(</span><span class="no">EXPORT</span><span class="w"> </span><span class="s">&quot;myimportedlib-1&quot;</span><span class="w"> </span><span class="s">&quot;myimportedlib-2&quot;</span>
<span class="w">  </span><span class="no">INSTALL_TREE</span>
<span class="w">  </span><span class="no">OUTPUT_FILE</span><span class="w"> </span><span class="s">&quot;InternalDependencyTargets.cmake&quot;</span>
<span class="nf">)</span>
<span class="c"># Is more or less equivalent to:</span>
<span class="nf">install(</span><span class="no">TARGETS</span><span class="w"> </span><span class="s">&quot;myimportedlib-1&quot;</span><span class="w"> </span><span class="s">&quot;myimportedlib-2&quot;</span>
<span class="w">  </span><span class="no">EXPORT</span><span class="w"> </span><span class="s">&quot;LibExport&quot;</span>
<span class="nf">)</span>
<span class="nf">install(</span><span class="no">EXPORT</span><span class="w"> </span><span class="s">&quot;LibExport&quot;</span>
<span class="w">  </span><span class="no">DESTINATION</span><span class="w"> </span><span class="s">&quot;cmake/export&quot;</span>
<span class="w">  </span><span class="no">FILE</span><span class="w"> </span><span class="s">&quot;InternalDependencyTargets.cmake&quot;</span>
<span class="nf">)</span>
</pre></div>
</div>
<p>The resulting file <code class="docutils literal notranslate"><span class="pre">InternalDependencyTargets.cmake</span></code> may then be included
by a package configuration file <code class="docutils literal notranslate"><span class="pre">&lt;PackageName&gt;Config.cmake.in</span></code> to be used by
<span class="target" id="index-0-command:cmake:command:configure_package_config_file"></span><a class="reference external" href="https://cmake.org/cmake/help/latest/module/CMakePackageConfigHelpers.html#command:configure_package_config_file" title="(in CMake v4.2.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">configure_package_config_file()</span></code></a> command:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nf">include(</span><span class="s">&quot;${CMAKE_CURRENT_LIST_DIR}/InternalDependencyTargets.cmake&quot;</span><span class="nf">)</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3>Table of Contents</h3>
    <ul>
<li><a class="reference internal" href="#">Dependency</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="Debug.html"
                          title="previous chapter">Debug</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="Directory.html"
                          title="next chapter">Directory</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/module/Dependency.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Directory.html" title="Directory"
             >next</a> |</li>
        <li class="right" >
          <a href="Debug.html" title="Debug"
             >previous</a> |</li>
  <li>
    <label class="sidebar-toggle" for="sidebar-check"></label>
  </li>
  <li class="rootlink">
    <img src="../_static/cmake-logo-16.png" width="16" height="16" alt=""/>
    <a href="https://cmake.org/">CMake 4.0.1</a>
    <span class="reldelim1"> &#187;</span>
  </li>
  <li>
    <a href="../index.html">Documentation</a> &#187;
  </li>

        <li class="nav-item nav-item-this"><a href="">Dependency</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, Joseph Garnier.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
<script type="text/javascript">
(function() {
  "use strict";
  const hide = () => document.getElementById("sidebar-check").checked = false;
  addEventListener("keydown", e => (e.key === "Escape") && hide());
  addEventListener("click", e => (e.target.tagName === "A") && hide());
  addEventListener("hashchange", hide)
})();
</script>
  </body>
</html>